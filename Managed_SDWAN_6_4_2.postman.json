{
	"info": {
		"_postman_id": "5f4b200d-508b-4d60-8a7a-3bbea4f72f33",
		"name": "Managed Secure SD-WAN 6.4.2",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Base",
			"item": [
				{
					"name": "1 - Discover / Probe Devices FGT 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "830e8053-c80c-4742-8a3e-0ed317145109",
								"exec": [
									"var jsonData = pm.response.json();",
									"sn = jsonData.result[0].data.device.sn;",
									"hostname = jsonData.result[0].data.device.name;",
									"",
									"pm.environment.set(\"sn_fgt_1\", sn);",
									"pm.environment.set(\"name_fgt_1\", hostname);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvm/cmd/discover/device\",\n            \"data\": {\n                \"device\": {\n                    \"adm_pass\": \"{{password}}\",\n                    \"adm_usr\": \"{{username}}\",\n                    \"ip\": \"192.168.0.1\"\n                }\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "2 - Discover / Probe Devices FGT 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4aebed1f-ba79-4bfb-8208-73e4bc33c877",
								"exec": [
									"var jsonData = pm.response.json();",
									"sn = jsonData.result[0].data.device.sn;",
									"hostname = jsonData.result[0].data.device.name;",
									"",
									"pm.environment.set(\"sn_fgt_2\", sn);",
									"pm.environment.set(\"name_fgt_2\", hostname);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvm/cmd/discover/device\",\n            \"data\": {\n                \"device\": {\n                    \"adm_pass\": \"{{password}}\",\n                    \"adm_usr\": \"{{username}}\",\n                    \"ip\": \"192.168.0.12\"\n                }\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "3 - Discover / Probe Devices FGT DC 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "179c0f19-5d72-4ea9-a827-745475b88fc6",
								"exec": [
									"var jsonData = pm.response.json();",
									"sn = jsonData.result[0].data.device.sn;",
									"hostname = jsonData.result[0].data.device.name;",
									"",
									"pm.environment.set(\"sn_fgt_dc\", sn);",
									"pm.environment.set(\"name_fgt_dc\", hostname);",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvm/cmd/discover/device\",\n            \"data\": {\n                \"device\": {\n                    \"adm_pass\": \"{{password}}\",\n                    \"adm_usr\": \"{{username}}\",\n                    \"ip\": \"192.168.0.5\"\n                }\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "4 - Discover / Probe Devices FGT DC 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b929de29-2a3a-4ea2-baa4-d6932dc31aca",
								"exec": [
									"var jsonData = pm.response.json();",
									"sn = jsonData.result[0].data.device.sn;",
									"hostname = jsonData.result[0].data.device.name;",
									"",
									"pm.environment.set(\"sn_fgt_dc_2\", sn);",
									"pm.environment.set(\"name_fgt_dc_2\", hostname);",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvm/cmd/discover/device\",\n            \"data\": {\n                \"device\": {\n                    \"adm_pass\": \"{{password}}\",\n                    \"adm_usr\": \"{{username}}\",\n                    \"ip\": \"192.168.0.6\"\n                }\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "5 - Add Devices",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "bec9071c-c5ee-4c3c-afdc-b8009048a374",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed to add some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.taskid;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvm/cmd/add/dev-list\",\n            \"data\": {\n                \"adom\": \"{{adom}}\",\n                \"flags\": [\"create_task\", \"nonblocking\"],\n                \"add-dev-list\": [\n                    {\n\t                    \"adm_pass\": \"{{password}}\",\n\t                    \"adm_usr\": \"{{username}}\",\n                        \"ip\": \"192.168.0.1\",\n                        \"name\": \"{{name_fgt_1}}\",\n                        \"sn\": \"{{sn_fgt_1}}\",\n                        \"mgmt_mode\": \"fmgfaz\",\n                        \"flags\": 24\n                    },\n                    {\n\t                    \"adm_pass\": \"{{password}}\",\n\t                    \"adm_usr\": \"{{username}}\",\n                        \"ip\": \"192.168.0.12\",\n                        \"name\": \"{{name_fgt_2}}\",\n                        \"sn\": \"{{sn_fgt_2}}\",\n                        \"mgmt_mode\": \"fmgfaz\",\n                        \"flags\": 24\n                    },\n                    {\n\t                    \"adm_pass\": \"{{password}}\",\n\t                    \"adm_usr\": \"{{username}}\",\n                        \"ip\": \"192.168.0.5\",\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"sn\": \"{{sn_fgt_dc}}\",\n                        \"mgmt_mode\": \"fmgfaz\",\n                        \"flags\": 24\n                    },\n                    {\n\t                    \"adm_pass\": \"{{password}}\",\n\t                    \"adm_usr\": \"{{username}}\",\n                        \"ip\": \"192.168.0.6\",\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"sn\": \"{{sn_fgt_dc_2}}\",\n                        \"mgmt_mode\": \"fmgfaz\",\n                        \"flags\": 24\n                    }\n                ]\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "6 - Create Device Groups",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ec6012cb-80cf-45df-bb6a-5bea191e7ab3",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/group\",\n            \"data\": [\n                {\n                    \"name\": \"Hubs\",\n                    \"os_type\": 1\n                },\n                {\n                    \"name\": \"Spokes\",\n                    \"os_type\": 1\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "7 -Assign Hubs to Device Group",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8278f260-15ee-4a19-84f6-cf86ec64a5a4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/group/Hubs/object member\",\n            \"data\": [\n                {\n                    \"name\": \"{{name_fgt_dc}}\",\n                    \"vdom\": \"root\"\n                },\n                {\n                    \"name\": \"{{name_fgt_dc_2}}\",\n                    \"vdom\": \"root\"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "8 -Assign Spokes to Device Group",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f7bc457b-d8dd-4673-978c-e9e7f1997a4b",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/group/Spokes/object member\",\n            \"data\": [\n                {\n                    \"name\": \"{{name_fgt_1}}\",\n                    \"vdom\": \"root\"\n                },\n                {\n                    \"name\": \"{{name_fgt_2}}\",\n                    \"vdom\": \"root\"\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "9 - Create Meta Fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ed4b5775-983a-463b-a55a-fc3b28004024",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/_meta_fields/device\",\n            \"data\": [\n                {\n                    \"importance\": 0,\n                    \"length\": 20,\n                    \"name\": \"dc-id\",\n                    \"status\": 1\n                },\n                {\n                    \"importance\": 0,\n                    \"length\": 20,\n                    \"name\": \"remote-dc-id\",\n                    \"status\": 1\n                },\n                {\n                    \"importance\": 0,\n                    \"length\": 20,\n                    \"name\": \"branch-id\",\n                    \"status\": 1\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "10 - Set Meta Fields for Devices",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "630ed82c-f496-4ef9-905d-4b7c7f5a4c35",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/device\",\n            \"data\": [\n                {\n                    \"name\": \"{{name_fgt_1}}\",\n                    \"meta fields\": {\n                        \"Address\": \"Sophia Antipolis, France\",\n                        \"branch-id\": \"1\"\n                    }\n                },\n                {\n                    \"name\": \"{{name_fgt_2}}\",\n                    \"meta fields\": {\n                        \"Address\": \"Bologna, Italy\",\n                        \"branch-id\": \"2\"\n                    }\n                },\n                {\n                    \"name\": \"{{name_fgt_dc}}\",\n                    \"meta fields\": {\n                        \"Address\": \"Leiden, The Netherlands\",\n                        \"dc-id\": \"1\",\n                        \"remote-dc-id\": \"2\"\n                    }\n                },\n                {\n                    \"name\": \"{{name_fgt_dc_2}}\",\n                    \"meta fields\": {\n                        \"Address\": \"Berlin, Germany\",\n                        \"dc-id\": \"2\",\n                        \"remote-dc-id\": \"1\"\n                    }\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "11 - Add Dynamic Interfaces",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ed623c44-746a-42bd-ba65-6e848d6cb1c5",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"port1\",\n                    \"description\": \"INET\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"port1\",\n                    \"color\": 2\n                },\n                {\n                    \"name\": \"port4\",\n                    \"description\": \"MPLS\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"port4\",\n                    \"color\": 2\n                },\n                {\n                    \"name\": \"vl_lan_ts\",\n                    \"description\": \"LAN TS\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"vl_lan_ts\",\n                    \"color\": 6\n                },\n                {\n                    \"name\": \"vl_lan\",\n                    \"description\": \"LAN\",\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_1}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"vl_lan\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"vl_lan\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"port5\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"port5\"\n                        }\n                    ],\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"color\": 11\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "12 - Add Address Objects",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "892121ad-c7fb-4f1c-b4cb-b31a2191a7be",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/firewall/address\",\n            \"data\": [\n                {\n                    \"name\": \"CORP_LAN\",\n                    \"subnet\": [\n                        \"10.0.0.0\",\n                        \"255.0.0.0\"\n                    ],\n                    \"type\": 0,\n                    \"associated-interface\": \"any\",\n                    \"color\": 22\n                },\n                {\n                    \"name\": \"HC\",\n                    \"subnet\": [\n                        \"10.200.99.1\",\n                        \"255.255.255.255\"\n                    ],\n                    \"type\": 0,\n                    \"associated-interface\": \"any\",\n                    \"color\": 11\n                },\n                {\n                    \"name\": \"HC_TS\",\n                    \"subnet\": [\n                        \"10.200.99.101\",\n                        \"255.255.255.255\"\n                    ],\n                    \"type\": 0,\n                    \"associated-interface\": \"any\",\n                    \"color\": 6\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "13 - Add Firewall Policy Package",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "877916f1-1cec-43a7-806d-82dd08cb39ac",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/pkg/adom/{{adom}}\",\n            \"data\": [\n                {\n                    \"name\": \"Branches-PP\",\n                    \"package settings\": {\n                        \"central-nat\": 0,\n                        \"consolidated-firewall-mode\": 0,\n                        \"fwpolicy-implicit-log\": 0,\n                        \"fwpolicy6-implicit-log\": 0,\n                        \"ngfw-mode\": 0\n                    },\n                    \"scope member\": {\n                        \"name\": \"Spokes\"\n                    },\n                    \"type\": \"pkg\"\n                },\n                {\n                    \"name\": \"DataCenter-PP\",\n                    \"package settings\": {\n                        \"central-nat\": 0,\n                        \"consolidated-firewall-mode\": 0,\n                        \"fwpolicy-implicit-log\": 0,\n                        \"fwpolicy6-implicit-log\": 0,\n                        \"ngfw-mode\": 0\n                    },\n                    \"scope member\": {\n                        \"name\": \"Hubs\"\n                    },                    \n                    \"type\": \"pkg\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "14 - Add Script - FAZ Configuration",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5ddc84d9-889f-4e6a-91ca-1665b51829b2",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "8b107e7c-001b-4d27-adc8-288b704875e0",
								"exec": [
									"pm.sendRequest({",
									"    url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"    method: 'POST',",
									"    header: \"Content-Type:application/json\",",
									"    body: {",
									"        mode: 'raw',",
									"        raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/sys/status\"}]})",
									"    }",
									"}, function (err, response) {",
									"    var sn = response.json().result[0].data[\"Serial Number\"];",
									"    pm.environment.set(\"sn_fmg\", sn)",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/script\",\n            \"data\": [\n                {\n                    \"script_schedule\": null,\n                    \"name\": \"Configure FAZ\",\n                    \"type\": \"cli\",\n                    \"desc\": \"\",\n                    \"content\": \"# FAZ Configuration\nconfig log fortianalyzer setting\n  set status enable\n  set server 192.168.0.15\n  set upload-option realtime\n  set serial {{sn_fmg}}\n  set certificate-verification disable\n  set reliable enable\nend\",\n                    \"target\": \"device_database\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "15 - Exec Script - FAZ Configuration",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "28345e5e-6a46-410c-bf45-a6573d57b3f4",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed to add some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/script/execute\",\n            \"data\": {\n                \"adom\": \"{{adom}}\",\n                \"script\": \"Configure FAZ\",\n                \"scope\": [\n                    {\n                        \"name\": \"{{name_fgt_1}}\",\n                        \"vdom\": \"root\"\n                    },\n                    {\n                        \"name\": \"{{name_fgt_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    }\n                ]\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "16 - Add Script - Cleanup",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4f8dffa5-87a9-46be-908e-d0f25893df73",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "c64ea89b-c578-4f3e-9860-e1e8c37ecfb2",
								"exec": [
									"pm.sendRequest({",
									"    url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"    method: 'POST',",
									"    header: \"Content-Type:application/json\",",
									"    body: {",
									"        mode: 'raw',",
									"        raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/sys/status\"}]})",
									"    }",
									"}, function (err, response) {",
									"    var sn = response.json().result[0].data[\"Serial Number\"];",
									"    pm.environment.set(\"sn_fmg\", sn)",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/script\",\n            \"data\": [\n                {\n                    \"script_schedule\": null,\n                    \"name\": \"Cleanup\",\n                    \"type\": \"cli\",\n                    \"desc\": \"\",\n                    \"content\": \"# Cleanup BGP and SD-WAN Configuration\nconfig system sdwan\n  unset status\n  config service\n    purge\n  end\n  config health-check\n    purge\n  end    \n  config members\n    purge\n  end\nend\nconfig router bgp\n  unset as \n  unset router-id \n  unset keepalive-timer \n  unset holdtime-timer \n  unset ibgp-multipath \n  unset network-import-check \n  unset additional-path \n  unset scan-time \n  config neighbor-range\n    purge\n  end\n  config neighbor-group\n    purge\n  end\n  config neighbor\n    purge\n  end\n  config network\n    purge\n  end\n  config vrf-leak\n    purge\n  end\nend\n\",\n                    \"target\": \"device_database\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Dual-Hub Single-Region",
			"item": [
				{
					"name": "Overlay",
					"item": [
						{
							"name": "1 - Add VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "88c0abc0-bba4-4409-8ddc-c2fe1d8dee86",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"OL_INET\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"OL_MPLS\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add VPN Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "680f827b-e080-4868-b26d-b59fa7a65734",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                \t\"id\": 17,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.11.1\",\n                    \"ipv4-end-ip\": \"10.200.11.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 18,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.12.1\",\n                    \"ipv4-end-ip\": \"10.200.12.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 33,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.21.1\",\n                    \"ipv4-end-ip\": \"10.200.21.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 34,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.22.1\",\n                    \"ipv4-end-ip\": \"10.200.22.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add VPN Spokes",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "61a2f522-803a-4d36-a7df-18484b977027",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"Spokes\"\n                    },\n                    \"id\": 1,\n                    \"vpntable\": \"OL_INET\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port1\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"Spokes\"\n                    },\n                    \"id\": 3,\n                    \"vpntable\": \"OL_MPLS\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port4\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Dynamic Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1a7db465-da4c-4939-ae4e-d971871ca5a6",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"OL_INET_DC1\",\n                    \"description\": \"INET DC1\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"OL_INET_11\",\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"OL_INET_DC2\",\n                    \"description\": \"INET DC2\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"OL_INET_12\",\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"OL_MPLS_DC1\",\n                    \"description\": \"MPLS DC1\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"OL_MPLS_21\",\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"OL_MPLS_DC2\",\n                    \"description\": \"MPLS DC2\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"OL_MPLS_22\",\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"OL_INET\",\n                    \"description\": \"INET\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"OL_INET_0\",\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"OL_MPLS\",\n                    \"description\": \"MPLS\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"OL_MPLS_0\",\n                    \"color\": 9\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add CLI Template - Overlay",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f887f45d-0d5d-420d-add5-98094e891f24",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "a5491efa-e42b-446e-88cd-97829f1b3f8a",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Overlay\",\n                    \"script\": \"# Adjust Overlay on Hub\n                    \n# Configure tunnel interface IPs\nconfig system interface\n  edit \\\"OL_INET_0\\\"\n    set ip 10.200.1$(dc-id).10 255.255.255.255\n    set remote-ip 10.200.1$(dc-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit \\\"OL_MPLS_0\\\"\n    set ip 10.200.2$(dc-id).10 255.255.255.255\n    set remote-ip 10.200.2$(dc-id).254 255.255.255.0\n    set allowaccess ping\n  next\nend\n\n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit \\\"OL_INET_0\\\"\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id 1$(dc-id)\n  next\n  edit \\\"OL_MPLS_0\\\"\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id 2$(dc-id)    \n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"Spoke-Overlay\",\n                    \"script\": \"# Adjust Overlay on Branch\n                    \n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit \\\"OL_INET_11\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 11\n  next\n  edit \\\"OL_INET_12\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 12\n  next\n  edit \\\"OL_MPLS_21\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 21\n  next\n  edit \\\"OL_MPLS_22\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 22\n  next\nend\n\n\n# Allow shortcut monitoring (ping)\nconfig system interface\n  edit \\\"OL_INET_11\\\"\n    set allowaccess ping\n  next\n  edit \\\"OL_INET_12\\\"\n    set allowaccess ping\n  next\n  edit \\\"OL_MPLS_21\\\"\n    set allowaccess ping\n  next\n  edit \\\"OL_MPLS_22\\\"\n    set allowaccess ping\n  next\nend\n                    \"\n                }                \n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6e3d25dd-b595-4c35-a837-afe4380893d8",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-Overlay\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-Overlay\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "04ffac3f-4146-44e9-ac4e-6b4190a4c1c2",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0298d86e-464e-472c-af97-2ba0bc966762",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Routing",
					"item": [
						{
							"name": "1 - Add CLI Template - Spoke Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3fc53b01-cb1a-45bf-abbc-0d196a25c112",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "1970e10d-f0b0-429b-8939-83a957d7b747",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Spoke-Routing-BGP\",\n                    \"script\": \"# Dynamic Routing on Spoke\n                    \n# BGP to Hub\nconfig router bgp\n  set as 65000\n  set router-id 10.0.$(branch-id).1\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set scan-time 20\n  config neighbor\n    edit \\\"10.200.11.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"OL_INET_11\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n    edit \\\"10.200.12.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"OL_INET_12\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n    edit \\\"10.200.21.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"OL_MPLS_21\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n    edit \\\"10.200.22.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"OL_MPLS_22\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.0.$(branch-id).0 255.255.255.0\n    next\n  end\nend\n\n                    \"\n                }                \n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add CLI Template - Hub Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c0b66007-40a1-4248-b66f-96bee3d5be67",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "aa0d92ee-84f3-41c5-8687-3b7fea45eb4b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Routing-BGP\",\n                    \"script\": \"# Dynamic Routing on Hub\n                    \n# Configure VRFs\nconfig system interface\n  edit \\\"OL_INET_0\\\"\n    set vrf 1\n  next\n  edit \\\"OL_MPLS_0\\\"\n    set vrf 2\n  next\nend\n\n# Configure BGP neighbors\nconfig router bgp\n  set as 65000\n  set router-id 10.$(dc-id).0.1\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set network-import-check disable\n  set additional-path enable\n  set scan-time 20\n  config neighbor-group\n    edit \\\"OL_INET\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 65000\n      set interface \\\"OL_INET_0\\\"\n      set update-source \\\"OL_INET_0\\\"\n      set additional-path both\n      set route-reflector-client enable\n    next\n    edit \\\"OL_MPLS\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 65000\n      set interface \\\"OL_MPLS_0\\\"\n      set update-source \\\"OL_MPLS_0\\\"\n      set additional-path both\n      set route-reflector-client enable\n    next\n  end\n  config neighbor-range\n    edit 1\n      set prefix 10.200.1$(dc-id).0 255.255.255.0\n      set neighbor-group \\\"OL_INET\\\"\n    next\n    edit 2\n      set prefix 10.200.2$(dc-id).0 255.255.255.0\n      set neighbor-group \\\"OL_MPLS\\\"\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.$(dc-id).0.0 255.255.255.0\n    next\n  end\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "42ebaf5a-8663-460e-9d1a-be909de2a897",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-Overlay\",\n                        \"Hub-Routing-BGP\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-Overlay\",\n                        \"Spoke-Routing-BGP\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "SD-WAN",
					"item": [
						{
							"name": "1 - Create SD-WAN Interface Members",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/members\",\n            \"data\": [\n                {\n                    \"name\": \"UL_INET\",\n                    \"interface\": \"port1\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"OL_INET_DC1\",\n                    \"interface\": \"OL_INET_DC1\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"OL_INET_DC2\",\n                    \"interface\": \"OL_INET_DC2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"OL_MPLS_DC1\",\n                    \"interface\": \"OL_MPLS_DC1\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"OL_MPLS_DC2\",\n                    \"interface\": \"OL_MPLS_DC2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Create Health Check Servers",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/server\",\n            \"data\": [\n                {\n                    \"name\": \"DC\",\n                    \"description\": null,\n                    \"server\": [\n                        \"10.200.99.1\"\n                    ],\n                    \"dynamic_mapping\": null\n                },\n                {\n                    \"name\": \"Internet Host\",\n                    \"description\": null,\n                    \"server\": [\n                        \"www.fortinet.com\"\n                    ],\n                    \"dynamic_mapping\": null\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Create SDWAN Branch Template",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/wanprof/adom/{{adom}}/\",\n            \"data\": {\n            \t\"name\": \"sdwan.branches\",\n            \t\"type\": \"wanprof\"\n            \t\n            }\n        }\n            \n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Populate SDWAN Branch Template",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"replace\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/sdwan.branches/system/sdwan\",\n            \"data\": {\n                \"status\": 1,\n                \"load-balance-mode\": 1,\n                \"fail-detect\": \"disable\",\n                \"zone\": [\n                    {\n                        \"name\": \"virtual-wan-link\"\n                    },\n                    {\n                        \"name\": \"underlay\"\n                    },\n                    {\n                        \"name\": \"overlay\"\n                    }\n                ],\n                \"members\": [\n                    {\n                        \"_dynamic-member\": \"OL_INET_DC1\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_INET_DC2\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_MPLS_DC1\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_MPLS_DC2\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"UL_INET\",\n                        \"zone\": \"underlay\"\n                    }\n                ],\n                \"health-check\": [\n                    {\n                        \"name\": \"DC\",\n                        \"_dynamic-server\": [\n                            \"DC\"\n                        ],\n                        \"protocol\": 1,\n                        \"members\": [\n                            1,\n                            2,\n                            3,\n                            4\n                        ],\n                        \"sla-fail-log-period\": 10,\n                        \"sla-pass-log-period\": 10,\n                        \"failtime\": 5,\n                        \"recoverytime\": 5,\n                        \"update-cascade-interface\": 1,\n                        \"update-static-route\": 1,\n                        \"sla\": [\n                            {\n                                \"id\": 1,\n                                \"latency-threshold\": 100,\n                                \"link-cost-factor\": 1\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"Internet\",\n                        \"_dynamic-server\": [\n                            \"Internet Host\"\n                        ],\n                        \"failtime\": 5,\n                        \"recoverytime\": 5,\n                        \"members\": [\n                            \"3\",\n                            \"4\",\n                            \"5\"\n                        ],\n                        \"sla-fail-log-period\": 10,\n                        \"sla-pass-log-period\": 10,\n                        \"probe-count\": 30,\n                        \"probe-packets\": 1,\n                        \"probe-timeout\": 500,\n                        \"protocol\": 1,\n                        \"update-cascade-interface\": 1,\n                        \"update-static-route\": 1,\n                        \"sla\": [\n                            {\n                                \"id\": 1,\n                                \"latency-threshold\": 300,\n                                \"link-cost-factor\": 1\n                            }\n                        ]\n                    }\n                ],\n                \"service\": [\n                    {\n                        \"id\": 1,\n                        \"name\": \"ICMP-Primary\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"1\",\n                            \"3\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    },\n                    {\n                        \"id\": 2,\n                        \"name\": \"ICMP-Secondary\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"2\",\n                            \"4\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    }\n                ]\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Assign Template to Branches",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"update\",\n    \"params\": [\n        {\n            \"url\": \"/pm/wanprof/adom/{{adom}}/sdwan.branches\",\n            \"data\": {\n                \"name\": \"sdwan.branches\",\n                \"description\": \"\",\n                \"scope member\": [\n                    {\n                    \t\"name\": \"{{name_fgt_1}}\",\n                    \t\"vdom\": \"root\"\n                    },\n                    {\n                    \t\"name\": \"{{name_fgt_2}}\",\n                    \t\"vdom\": \"root\"\n                    }\n                ],\n                \"type\": \"wanprof\"\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Add Firewall Rules - Branches PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e72656b3-3c70-4054-b699-12b50d527c4e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Branches-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Branch to INET\",\n                    \"policyid\": 1,\n                    \"srcintf\": \"vl_lan\",\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"utm-status\": 1,\n                    \"ssl-ssh-profile\": \"certificate-inspection\",\n                    \"application-list\": \"default\",\n                    \"profile-protocol-options\": \"default\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Branch to Overlay\",\n                    \"policyid\": 2,\n                    \"srcintf\": \"vl_lan\",\n                    \"dstintf\": \"overlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Overlay to Branch\",\n                    \"policyid\": 3,\n                    \"srcintf\": \"overlay\",\n                    \"dstintf\": \"vl_lan\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "7 - Add Firewall Rules - DataCenter PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "050003f3-aa63-4b8c-8980-87a380586693",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/DataCenter-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"DC to INET\",\n                    \"policyid\": 1,\n                    \"srcintf\": \"vl_lan\",\n                    \"dstintf\": \"port1\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Overlay to INET\",\n                    \"policyid\": 2,\n                    \"srcintf\": \"OL_MPLS\",\n                    \"dstintf\": \"port1\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Overlay to Overlay\",\n                    \"policyid\": 3,\n                    \"srcintf\": [\n                        \"OL_INET\",\n                        \"OL_MPLS\"\n                    ],\n                    \"dstintf\": [\n                        \"OL_INET\",\n                        \"OL_MPLS\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Health-Check\",\n                    \"policyid\": 4,\n                    \"srcintf\": [\n                        \"OL_INET\",\n                        \"OL_MPLS\"\n                    ],\n                    \"dstintf\": \"any\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"HC\",\n                    \"service\": \"PING\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 3\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "DC",
					"item": [
						{
							"name": "1 - Add CLI Template - DC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "feb1f693-4761-4032-8462-35085910ad41",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "2452ec7a-3d84-436d-956b-c155a381f9d0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Routing-DC\",\n                    \"script\": \"# DC Connectivity\n                    \n# Inter-vrf interfaces\nconfig system settings\n  set allow-subnet-overlap enable\nend\nconfig system vdom-link\n  edit \\\"vrf1_link\\\"\n  next\n  edit \\\"vrf2_link\\\"\n  next\nend\nconfig system interface\n  edit \\\"vrf1_link0\\\"\n    set ip 10.200.99.10 255.255.255.254\n  next\n  edit \\\"vrf1_link1\\\"\n    set vrf 1\n    set ip 10.200.99.11 255.255.255.254\n  next\n  edit \\\"vrf2_link0\\\"\n    set ip 10.200.99.20 255.255.255.254\n  next\n  edit \\\"vrf2_link1\\\"\n    set vrf 2\n    set ip 10.200.99.21 255.255.255.254\n  next\nend\nconfig system zone                                                                                                                                                                            \n  edit \\\"InterVRF_LAN\\\"                                                                                                                                                                       \n    set interface \\\"vrf2_link0\\\" \\\"vrf1_link0\\\"                                                                                                                                               \n  next      \n  edit \\\"InterVRF_WAN\\\"                                                                                                                                                                       \n    set interface \\\"vrf2_link1\\\" \\\"vrf1_link1\\\"                                                                                                                                               \n  next                                                                                                                                                                                    \nend\n\n# Leak route-map\nconfig router prefix-list\n  edit \\\"CORP_LAN\\\"\n    config rule\n      edit 1\n        set prefix 10.0.0.0 255.0.0.0\n        set ge 24\n      next\n    end\n  next\nend\nconfig router route-map\n  edit \\\"WAN\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"CORP_LAN\\\"\n      next\n    end\n  next\n  edit \\\"NONE\\\"\n    config rule\n      edit 1\n        set action deny\n      next\n    end\n  next\nend\n\n# Leak Spokes' BGP routes to VRF=0\nconfig router bgp\n  config vrf-leak\n    edit \\\"1\\\"\n      config target\n        edit \\\"0\\\"\n          set route-map \\\"WAN\\\"\n          set interface \\\"vrf1_link1\\\"\n        next\n      end\n    next\n    edit \\\"2\\\"\n      config target\n        edit \\\"0\\\"\n          set route-map \\\"WAN\\\"\n          set interface \\\"vrf2_link1\\\"\n        next\n      end\n    next\n    edit \\\"0\\\"\n      config target\n        edit \\\"1\\\"\n          set route-map \\\"NONE\\\"\n          set interface \\\"vrf1_link0\\\"\n        next\n        edit \\\"2\\\"\n          set route-map \\\"NONE\\\"\n          set interface \\\"vrf2_link0\\\"\n        next\n      end\n    next\n  end\nend\n\nconfig router static\n  # Catch-all feasible route for DC-to-WAN return traffic\n  edit 11\n    set dst 10.0.0.0 255.0.0.0\n    set device \\\"vrf1_link0\\\"\n  next\n  edit 21\n    set dst 10.0.0.0 255.0.0.0\n    set device \\\"vrf2_link0\\\"\n  next\n  # Leak DC subnets to WAN VRFs for WAN-to-DC traffic\n  edit 12\n    set dst 10.$(dc-id).0.0 255.255.255.0\n    set device \\\"vrf1_link1\\\"\n  next\n  edit 22\n    set dst 10.$(dc-id).0.0 255.255.255.0\n    set device \\\"vrf2_link1\\\"\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "31ae4c9f-3be8-4c76-b556-8d2a73cbda45",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-Overlay\",\n                        \"Hub-Routing-BGP\",\n                        \"Hub-Routing-DC\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add Dynamic Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ef67366e-cf48-4ade-ada0-f5ac36bd6fca",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"InterVRF_LAN\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"InterVRF_LAN\",\n                    \"color\": 17\n                },\n                {\n                    \"name\": \"InterVRF_WAN\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"InterVRF_WAN\",\n                    \"color\": 17\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3.1 - Install Policy on Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d5ab9745-3db8-422e-8d5a-4ba56e602525",
										"exec": [
											"function waitOnTask(retries) {",
											"    if (!retries) {",
											"        pm.test(\"Task completed\", function() {",
											"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
											"        });",
											"        postman.setNextRequest(null);",
											"    }",
											"    else {",
											"        pm.sendRequest({",
											"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
											"            method: 'POST',",
											"            header: \"Content-Type:application/json\",",
											"            body: {",
											"                mode: 'raw',",
											"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
											"            }",
											"        }, function(err, response) {",
											"            var jsonData = response.json();",
											"            if (jsonData.result[0].data.percent == 100) {",
											"                // Task completed",
											"                if (jsonData.result[0].data.num_err) {",
											"                    postman.setNextRequest(null);",
											"                }",
											"                pm.test(\"Task completed\", function() {",
											"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
											"                });",
											"            }",
											"            else {",
											"                console.log(\"Task is still not complete\");",
											"                setTimeout(function() {",
											"                    waitOnTask(--retries);",
											"                }, 10000);",
											"            }",
											"        }); ",
											"    }",
											"}",
											"",
											"var jsonData = pm.response.json();",
											"var taskid = jsonData.result[0].data.task;",
											"",
											"waitOnTask(10);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"DataCenter-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Hubs\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								},
								"description": "This interim policy install is a MUST when you run this collection in bulk (using Runner). That's because dynamic interfaces created later depend on the existence of some interfaces created before..."
							},
							"response": []
						},
						{
							"name": "4 - Add Firewall Rules - DataCenter PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "da362dca-4032-4f98-be8f-c13c3980f2a9",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/DataCenter-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"DC - WAN VRF\",\n                    \"policyid\": 5,\n                    \"srcintf\": [\n                        \"InterVRF_WAN\",\n                        \"OL_INET\",\n                        \"OL_MPLS\"\n                    ],\n                    \"dstintf\": [\n                        \"InterVRF_WAN\",\n                        \"OL_INET\",\n                        \"OL_MPLS\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"DC - LAN VRF\",\n                    \"policyid\": 6,\n                    \"srcintf\": [\n                        \"InterVRF_LAN\",\n                        \"vl_lan\"\n                    ],\n                    \"dstintf\": [\n                        \"InterVRF_LAN\",\n                        \"vl_lan\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Inter-DC",
					"item": [
						{
							"name": "1 - Add Hub-to-Hub VPN",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fb02c352-af4f-42da-b486-0d574965e8c1",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                \t\"id\": 17,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": \"port1\",\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.11.1\",\n                    \"ipv4-end-ip\": \"10.200.11.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 18,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": \"port1\",\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.12.1\",\n                    \"ipv4-end-ip\": \"10.200.12.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 33,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": \"port4\",\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.21.1\",\n                    \"ipv4-end-ip\": \"10.200.21.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 34,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"OL_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": \"port4\",\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.22.1\",\n                    \"ipv4-end-ip\": \"10.200.22.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "1.1 - Install Policy on Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9c3b298f-89d6-4835-8dae-b1c02ffe3f0a",
										"exec": [
											"function waitOnTask(retries) {",
											"    if (!retries) {",
											"        pm.test(\"Task completed\", function() {",
											"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
											"        });",
											"        postman.setNextRequest(null);",
											"    }",
											"    else {",
											"        pm.sendRequest({",
											"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
											"            method: 'POST',",
											"            header: \"Content-Type:application/json\",",
											"            body: {",
											"                mode: 'raw',",
											"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
											"            }",
											"        }, function(err, response) {",
											"            var jsonData = response.json();",
											"            if (jsonData.result[0].data.percent == 100) {",
											"                // Task completed",
											"                if (jsonData.result[0].data.num_err) {",
											"                    postman.setNextRequest(null);",
											"                }",
											"                pm.test(\"Task completed\", function() {",
											"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
											"                });",
											"            }",
											"            else {",
											"                console.log(\"Task is still not complete\");",
											"                setTimeout(function() {",
											"                    waitOnTask(--retries);",
											"                }, 10000);",
											"            }",
											"        }); ",
											"    }",
											"}",
											"",
											"var jsonData = pm.response.json();",
											"var taskid = jsonData.result[0].data.task;",
											"",
											"waitOnTask(10);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"DataCenter-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Hubs\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								},
								"description": "This interim policy install is a MUST when you run this collection in bulk (using Runner). That's because dynamic interfaces created later depend on the existence of some interfaces created before..."
							},
							"response": []
						},
						{
							"name": "2 - Add Dynamic Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d1aa1613-7ae7-4556-b15f-b0ef7083516f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"OL_INET_DC2DC\",\n                    \"description\": \"INET Inter-DC\",\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"OL_INET_12\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"OL_INET_11\"\n                        }\n                    ],\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"color\": 18\n                },\n                {\n                    \"name\": \"OL_MPLS_DC2DC\",\n                    \"description\": \"MPLS Inter-DC\",\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"OL_MPLS_22\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"OL_MPLS_21\"\n                        }\n                    ],\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"color\": 18\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add Firewall Rules - DataCenter PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2b1ed406-aeab-4d26-8c9d-beeed0ad3466",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/DataCenter-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"DC to DC\",\n                    \"policyid\": 7,\n                    \"srcintf\": [\n                        \"vl_lan\",\n                        \"OL_INET_DC2DC\",\n                        \"OL_MPLS_DC2DC\"\n                    ],\n                    \"dstintf\": [\n                        \"vl_lan\",\n                        \"OL_INET_DC2DC\",\n                        \"OL_MPLS_DC2DC\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add CLI Template - InterDC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "298dd071-9c2d-4a5a-89c8-b15dea7598c2",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "3f4b5038-860a-45bc-a7b2-94f0deb5a3db",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Routing-InterDC\",\n                    \"script\": \"# DC-to-DC Connectivity\n                    \n# Configure hub-to-hub tunnel IPs\nconfig system interface\n  edit \\\"OL_INET_1$(remote-dc-id)\\\"\n      set ip 10.200.10.$(dc-id) 255.255.255.255\n      set remote-ip 10.200.10.$(remote-dc-id) 255.255.255.252\n  next\n  edit \\\"OL_MPLS_2$(remote-dc-id)\\\"\n      set ip 10.200.20.$(dc-id) 255.255.255.255\n      set remote-ip 10.200.20.$(remote-dc-id) 255.255.255.252\n  next\nend\n\n# Configure prefix-list and route-map for local DC LAN\nconfig router prefix-list\n  edit \\\"LAN_DC$(dc-id)\\\"\n    config rule\n      edit 1\n        set prefix 10.$(dc-id).0.0 255.255.255.0\n        unset ge\n        unset le\n      next\n    end\n  next\nend\nconfig router route-map\n  edit \\\"DC2DC_OUT\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"LAN_DC$(dc-id)\\\"\n      next\n      edit 2\n        set action deny\n      next\n    end\n  next\n  edit \\\"DC2DC_INET_IN\\\"\n    config rule\n      edit 1\n        set set-local-preference 200\n      next\n    end\n  next\nend\n\n# Configure hub-to-hub BGP peering\nconfig router bgp\n  config neighbor\n    edit \\\"10.200.10.$(remote-dc-id)\\\"\n        set advertisement-interval 1\n        set soft-reconfiguration enable\n        set remote-as 65000\n        set interface \\\"OL_INET_1$(remote-dc-id)\\\"\n        set route-map-in \\\"DC2DC_INET_IN\\\"\n        set route-map-out \\\"DC2DC_OUT\\\"\n    next\n    edit \\\"10.200.20.$(remote-dc-id)\\\"\n        set advertisement-interval 1\n        set soft-reconfiguration enable\n        set remote-as 65000\n        set interface \\\"OL_MPLS_2$(remote-dc-id)\\\"\n        set route-map-out \\\"DC2DC_OUT\\\"\n    next\n  end\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "fc1f09bc-f535-4652-adc8-66ba7a2ab96e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-Overlay\",\n                        \"Hub-Routing-BGP\",\n                        \"Hub-Routing-DC\",\n                        \"Hub-Routing-InterDC\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Install Policy - Hubs",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1e8ef67b-5b9f-4e7f-8a68-66adda90de24",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"DataCenter-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Hubs\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Install Policy - Spokes",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7ff1c710-ee34-46a0-87dc-5e01134592a3",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"Branches-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Spokes\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Segmentation",
			"item": [
				{
					"name": "Overlay",
					"item": [
						{
							"name": "1 - Add VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b25b9c40-b483-42db-89e9-e7ac63569e20",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"TS_INET\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"TS_MPLS\",\n                    \"topology\": 2,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add VPN Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4d3efd54-7138-414c-b952-d48f02d2123c",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                \t\"id\": 273,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"TS_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.111.1\",\n                    \"ipv4-end-ip\": \"10.200.111.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 274,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"TS_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.112.1\",\n                    \"ipv4-end-ip\": \"10.200.112.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 289,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"TS_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.121.1\",\n                    \"ipv4-end-ip\": \"10.200.121.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 290,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"TS_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.122.1\",\n                    \"ipv4-end-ip\": \"10.200.122.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add VPN Spokes",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f52d3bd2-3ce0-4c7e-9c78-dc3eddc19709",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"Spokes\"\n                    },\n                    \"id\": 5,\n                    \"vpntable\": \"TS_INET\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port1\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"Spokes\"\n                    },\n                    \"id\": 7,\n                    \"vpntable\": \"TS_MPLS\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port4\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Dynamic Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1b1f51ed-bbfc-40bd-a924-40012d013522",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"TS_INET_DC1\",\n                    \"description\": \"TS INET DC1\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"TS_INET_111\",\n                    \"color\": 7\n                },\n                {\n                    \"name\": \"TS_INET_DC2\",\n                    \"description\": \"TS INET DC2\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"TS_INET_112\",\n                    \"color\": 7\n                },\n                {\n                    \"name\": \"TS_MPLS_DC1\",\n                    \"description\": \"TS_MPLS DC1\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"TS_MPLS_121\",\n                    \"color\": 7\n                },\n                {\n                    \"name\": \"TS_MPLS_DC2\",\n                    \"description\": \"TS MPLS DC2\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"TS_MPLS_122\",\n                    \"color\": 7\n                },\n                {\n                    \"name\": \"TS_INET\",\n                    \"description\": \"TS INET\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"TS_INET_0\",\n                    \"color\": 7\n                },\n                {\n                    \"name\": \"TS_MPLS\",\n                    \"description\": \"TS MPLS\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"TS_MPLS_0\",\n                    \"color\": 7\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add CLI Template - Overlay TS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "6c3addbc-45af-4632-8156-ea9d2746820a",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "15af5422-2950-4a7e-9f1c-93d7756b3f7f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Overlay-TS\",\n                    \"script\": \"# Adjust Overlay on Hub\n                    \n# Configure tunnel interface IPs\nconfig system interface\n  edit \\\"TS_INET_0\\\"\n    set ip 10.200.11$(dc-id).10 255.255.255.255\n    set remote-ip 10.200.11$(dc-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit \\\"TS_MPLS_0\\\"\n    set ip 10.200.12$(dc-id).10 255.255.255.255\n    set remote-ip 10.200.12$(dc-id).254 255.255.255.0\n    set allowaccess ping\n  next\nend\n\n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit \\\"TS_INET_0\\\"\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id 11$(dc-id)\n  next\n  edit \\\"TS_MPLS_0\\\"\n    set auto-discovery-sender enable\n    set network-overlay enable\n    set network-id 12$(dc-id)\n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"Spoke-Overlay-TS\",\n                    \"script\": \"# Adjust Overlay on Branch\n                    \n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit \\\"TS_INET_111\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 111\n  next\n  edit \\\"TS_INET_112\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 112\n  next\n  edit \\\"TS_MPLS_121\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 121\n  next\n  edit \\\"TS_MPLS_122\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n    set network-overlay enable\n    set network-id 122\n  next\nend\n\n# Allow shortcut monitoring (ping)\nconfig system interface\n  edit \\\"TS_INET_111\\\"\n    set allowaccess ping\n  next\n  edit \\\"TS_INET_112\\\"\n    set allowaccess ping\n  next\n  edit \\\"TS_MPLS_121\\\"\n    set allowaccess ping\n  next\n  edit \\\"TS_MPLS_122\\\"\n    set allowaccess ping\n  next\nend\n\n                    \"\n                }                \n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "b1497e2c-ed18-4649-bbb0-b2d7f65c4b4f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-Overlay\",\n                        \"Hub-Routing-BGP\",\n                        \"Hub-Routing-DC\",\n                        \"Hub-Routing-InterDC\",\n                        \"Hub-Overlay-TS\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-Overlay\",\n                        \"Spoke-Routing-BGP\",\n                        \"Spoke-Overlay-TS\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "e3231b02-c7f6-4fd2-9021-bca5a6ba8358",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "5e2b4973-54d0-4b9c-b19b-d1d30ef6dd0e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Routing",
					"item": [
						{
							"name": "1 - Add CLI Template - Spoke Routing TS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "27aa1204-996d-40bb-8f81-d45ff16d3406",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "aa5de525-2da8-4c43-b5f6-ff8618a55280",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Spoke-Routing-TS\",\n                    \"script\": \"# Dynamic Routing on Spoke\n                    \n# Configure VRFs\nconfig system interface\n  edit \\\"TS_INET_111\\\"\n    set vrf 10\n  next\n  edit \\\"TS_INET_112\\\"\n    set vrf 10\n  next\n  edit \\\"TS_MPLS_121\\\"\n    set vrf 10\n  next\n  edit \\\"TS_MPLS_122\\\"\n    set vrf 10\n  next\nend\n\n# BGP to Hub\nconfig router bgp\n  config neighbor\n    edit \\\"10.200.111.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"TS_INET_111\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n    edit \\\"10.200.112.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"TS_INET_112\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n    edit \\\"10.200.121.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"TS_MPLS_121\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n    edit \\\"10.200.122.10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"TS_MPLS_122\\\"\n        set remote-as 65000\n        set additional-path receive\n    next\n  end\n  config network\n    edit 101\n      set prefix 10.0.10$(branch-id).0 255.255.255.0\n    next\n  end\nend\n\n                    \"\n                }                \n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add CLI Template - Hub Routing TS",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f50fd716-e00b-4e6e-acdc-7e594efa6287",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "5278bd5e-823f-4de5-b9be-372d13e9fb8d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Routing-TS\",\n                    \"script\": \"# Dynamic Routing on Hub\n                    \n# Configure VRFs\nconfig system interface\n  edit \\\"TS_INET_0\\\"\n    set vrf 11\n  next\n  edit \\\"TS_MPLS_0\\\"\n    set vrf 12\n  next\nend\n\nconfig router route-map\n  edit \\\"DC_ACCESS\\\"\n    config rule\n      edit 1\n        set match-vrf 0\n      next\n      edit 2\n        set match-vrf 1\n      next\n      edit 3\n        set match-vrf 2\n      next\n    end\n  next\nend\n\n# Configure BGP neighbors\nconfig router bgp\n  config neighbor-group\n    edit \\\"TS_INET\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 65000\n      set interface \\\"TS_INET_0\\\"\n      set update-source \\\"TS_INET_0\\\"\n      set additional-path both\n      set route-reflector-client enable\n    next\n    edit \\\"TS_MPLS\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 65000\n      set interface \\\"TS_MPLS_0\\\"\n      set update-source \\\"TS_MPLS_0\\\"\n      set additional-path both\n      set route-reflector-client enable\n    next\n  end\n  config neighbor-range\n    edit 11\n      set prefix 10.200.11$(dc-id).0 255.255.255.0\n      set neighbor-group \\\"TS_INET\\\"\n    next\n    edit 12\n      set prefix 10.200.12$(dc-id).0 255.255.255.0\n      set neighbor-group \\\"TS_MPLS\\\"\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.$(dc-id).0.0 255.255.255.0\n      set route-map \\\"DC_ACCESS\\\"\n    next\n  end\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "e7317337-7f2e-4373-8057-dde8d9aebd60",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-Overlay\",\n                        \"Hub-Routing-BGP\",\n                        \"Hub-Routing-DC\",\n                        \"Hub-Routing-InterDC\",\n                        \"Hub-Overlay-TS\",\n                        \"Hub-Routing-TS\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-Overlay\",\n                        \"Spoke-Routing-BGP\",\n                        \"Spoke-Overlay-TS\",\n                        \"Spoke-Routing-TS\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "SD-WAN",
					"item": [
						{
							"name": "1 - Create SD-WAN Interface Members",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/members\",\n            \"data\": [\n                {\n                    \"name\": \"TS_INET_DC1\",\n                    \"interface\": \"TS_INET_DC1\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"TS_INET_DC2\",\n                    \"interface\": \"TS_INET_DC2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"TS_MPLS_DC1\",\n                    \"interface\": \"TS_MPLS_DC1\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"TS_MPLS_DC2\",\n                    \"interface\": \"TS_MPLS_DC2\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Create Health Check Servers",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/server\",\n            \"data\": [\n                {\n                    \"name\": \"DC-TS\",\n                    \"description\": null,\n                    \"server\": [\n                        \"10.200.99.101\"\n                    ],\n                    \"dynamic_mapping\": null\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Populate SDWAN Branch Template",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/sdwan.branches/system/sdwan\",\n            \"data\": {\n                \"status\": 1,\n                \"load-balance-mode\": 1,\n                \"fail-detect\": \"disable\",\n                \"zone\": [\n                    {\n                        \"name\": \"virtual-wan-link\"\n                    },\n                    {\n                        \"name\": \"underlay\"\n                    },\n                    {\n                        \"name\": \"overlay\"\n                    },\n                    {\n                        \"name\": \"ts-overlay\"\n                    }\n                ],\n                \"members\": [\n                    {\n                        \"_dynamic-member\": \"OL_INET_DC1\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_INET_DC2\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_MPLS_DC1\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_MPLS_DC2\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"UL_INET\",\n                        \"zone\": \"underlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"TS_INET_DC1\",\n                        \"zone\": \"ts-overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"TS_INET_DC2\",\n                        \"zone\": \"ts-overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"TS_MPLS_DC1\",\n                        \"zone\": \"ts-overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"TS_MPLS_DC2\",\n                        \"zone\": \"ts-overlay\"\n                    }\n                ],\n                \"health-check\": [\n                    {\n                        \"name\": \"DC\",\n                        \"_dynamic-server\": [\n                            \"DC\"\n                        ],\n                        \"protocol\": 1,\n                        \"members\": [\n                            1,\n                            2,\n                            3,\n                            4\n                        ],\n                        \"sla-fail-log-period\": 10,\n                        \"sla-pass-log-period\": 10,\n                        \"failtime\": 5,\n                        \"recoverytime\": 5,\n                        \"update-cascade-interface\": 1,\n                        \"update-static-route\": 1,\n                        \"sla\": [\n                            {\n                                \"id\": 1,\n                                \"latency-threshold\": 100,\n                                \"link-cost-factor\": 1\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"Internet\",\n                        \"_dynamic-server\": [\n                            \"Internet Host\"\n                        ],\n                        \"failtime\": 5,\n                        \"recoverytime\": 5,\n                        \"members\": [\n                            \"3\",\n                            \"4\",\n                            \"5\"\n                        ],\n                        \"sla-fail-log-period\": 10,\n                        \"sla-pass-log-period\": 10,\n                        \"probe-count\": 30,\n                        \"probe-packets\": 1,\n                        \"probe-timeout\": 500,\n                        \"protocol\": 1,\n                        \"update-cascade-interface\": 1,\n                        \"update-static-route\": 1,\n                        \"sla\": [\n                            {\n                                \"id\": 1,\n                                \"latency-threshold\": 300,\n                                \"link-cost-factor\": 1\n                            }\n                        ]\n                    },\n                    {\n                        \"name\": \"DC_TS\",\n                        \"_dynamic-server\": [\n                            \"DC-TS\"\n                        ],\n                        \"protocol\": 1,\n                        \"members\": [\n                            6,\n                            7,\n                            8,\n                            9\n                        ],\n                        \"sla-fail-log-period\": 10,\n                        \"sla-pass-log-period\": 10,\n                        \"failtime\": 5,\n                        \"recoverytime\": 5,\n                        \"update-cascade-interface\": 1,\n                        \"update-static-route\": 1,\n                        \"sla\": [\n                            {\n                                \"id\": 1,\n                                \"latency-threshold\": 100,\n                                \"link-cost-factor\": 1\n                            }\n                        ]\n                    }\n                ],\n                \"service\": [\n                    {\n                        \"id\": 1,\n                        \"name\": \"ICMP-Primary\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"1\",\n                            \"3\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    },\n                    {\n                        \"id\": 2,\n                        \"name\": \"ICMP-Secondary\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"2\",\n                            \"4\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    },\n                    {\n                        \"id\": 3,\n                        \"name\": \"ICMP-TS-Primary\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC_TS\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"6\",\n                            \"8\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    },\n                    {\n                        \"id\": 4,\n                        \"name\": \"ICMP-TS-Secondary\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC_TS\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"7\",\n                            \"9\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    }\n                ]\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Firewall Rules - Branches PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "25d5bd45-2238-45ae-837e-eed687673ae0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Branches-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"TS: Branch to Overlay\",\n                    \"policyid\": 4,\n                    \"srcintf\": \"vl_lan_ts\",\n                    \"dstintf\": \"ts-overlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"TS: Overlay to Branch\",\n                    \"policyid\": 5,\n                    \"srcintf\": \"ts-overlay\",\n                    \"dstintf\": \"vl_lan_ts\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Add Firewall Rules - DataCenter PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "1be3474e-519c-40c1-9928-5d873ad724e7",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/DataCenter-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"TS: Overlay to Overlay\",\n                    \"policyid\": 8,\n                    \"srcintf\": [\n                        \"TS_INET\",\n                        \"TS_MPLS\"\n                    ],\n                    \"dstintf\": [\n                        \"TS_INET\",\n                        \"TS_MPLS\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"TS: Health-Check\",\n                    \"policyid\": 9,\n                    \"srcintf\": [\n                        \"TS_INET\",\n                        \"TS_MPLS\"\n                    ],\n                    \"dstintf\": \"any\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"HC_TS\",\n                    \"service\": \"PING\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 3\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Install Policy - Hubs",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1abb8e25-fb7f-41e4-b480-030e714a9825",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"DataCenter-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Hubs\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Install Policy - Spokes",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "eb2a3771-f50b-40c8-a0d8-bb82cec027a5",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"Branches-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Spokes\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Zero Touch Provisioning",
			"item": [
				{
					"name": "1 - Add Device",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "749b7f8c-dad2-4b01-98bc-2e1fcb153a6b",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed to add some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.taskid;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 1,\n    \"session\": \"{{session}}\",\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"dvm/cmd/add/device\",\n            \"data\": {\n                \"adom\": \"{{adom}}\",\n                \"flags\": [\n                    \"create_task\",\n                    \"nonblocking\"\n                ],\n                \"device\": {\n                    \"name\": \"{{name_fgt_ztp}}\",\n                    \"adm_usr\": \"admin\",\n                    \"os_ver\": 6,\n                    \"version\": 600,\n                    \"os_type\": 0,\n                    \"mr\": 4,\n                    \"platform_str\": \"FortiGate-VM64\",\n                    \"mgmt_mode\": 3,\n                    \"flags\": 67371040,\n                    \"prefer_img_ver\": null,\n                    \"sn\": \"FGVM08TM19003257\",\n                    \"faz.perm\": 15,\n                    \"faz.quota\": 0,\n                    \"platform_id\": 108,\n                    \"branch_pt\": 1637,\n                    \"build\": 1637\n                },\n                \"groups\": [\n                    {\n                        \"adom\": \"{{adom}}\",\n                        \"name\": \"Spokes\"\n                    }\n                ]\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "2 - Set Device Properties",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "134151e2-dd24-4006-9c76-4cc388140098",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"1\",\n    \"session\": \"{{session}}\",\n    \"method\": \"update\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/device/{{name_fgt_ztp}}\",\n            \"data\": {\n                \"name\": \"{{name_fgt_ztp}}\",\n                \"latitude\": \"40.418852\",\n                \"longitude\": \" -3.693454\",\n                \"meta fields\": {\n                    \"Address\": \"Madrid, Spain\",\n                    \"branch-id\": \"3\",\n                    \"dc-id\": \"\",\n                    \"remote-dc-id\": \"\"\n                },\n                \"flags\": 69468192\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "3 - Assign SDWAN Template",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fd2b1921-3222-4913-a916-2e4b0f18ff7f",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"update\",\n    \"params\": [\n        {\n            \"url\": \"/pm/wanprof/adom/{{adom}}/sdwan.branches\",\n            \"data\": {\n                \"name\": \"sdwan.branches\",\n                \"description\": \"\",\n                \"scope member\": [\n                    {\n                    \t\"name\": \"{{name_fgt_1}}\",\n                    \t\"vdom\": \"root\"\n                    },\n                    {\n                    \t\"name\": \"{{name_fgt_2}}\",\n                    \t\"vdom\": \"root\"\n                    },\n                    {\n                    \t\"name\": \"{{name_fgt_ztp}}\",\n                    \t\"vdom\": \"root\"\n                    }\n                ],\n                \"type\": \"wanprof\"\n            }\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "4 - Add Script - Configure ZTP Interfaces",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "015007eb-d18d-46ce-8039-fe3e87c873e1",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "a81218ac-8a33-46b4-ad32-190575b1c97c",
								"exec": [
									"/*",
									"pm.sendRequest({",
									"    url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"    method: 'POST',",
									"    header: \"Content-Type:application/json\",",
									"    body: {",
									"        mode: 'raw',",
									"        raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/sys/status\"}]})",
									"    }",
									"}, function (err, response) {",
									"    var sn = response.json().result[0].data[\"Serial Number\"];",
									"    pm.environment.set(\"sn_fmg\", sn)",
									"});",
									"*/"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/script\",\n            \"data\": [\n                {\n                    \"script_schedule\": null,\n                    \"name\": \"Configure ZTP Interfaces\",\n                    \"type\": \"cli\",\n                    \"desc\": \"\",\n                    \"content\": \"# Interfaces for ZTP device\nconfig system interface\n  edit port4\n    set ip 172.16.0.11 255.255.255.248\n    set mode static\n    set type physical\n    set allowaccess ping\n    set vdom root\n  next\n  edit port5\n    set ip 10.50.50.11 255.255.255.248\n    set mode static\n    set type physical\n    set allowaccess ping\n    set vdom root\n  next\n  edit port10\n    set ip 192.168.0.14 255.255.255.0\n    set mode static\n    set type physical\n    set allowaccess ping http https\n    set vdom root\n  next\nend\nconfig router static                                                                  \n  edit 1\n    set dst 172.16.0.0 255.255.0.0\n    set gateway 172.16.0.9\n    set device port4\n  next                                                                                \n  edit 2\n    set gateway 203.0.113.1                                                 \n    set device port1                                                               \n  next                                                                            \nend\",\n                    \"target\": \"device_database\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "5 - Exec Script - Configure ZTP interfaces",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "699cf3b9-ae66-4659-a4ba-0011eeff13f7",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed to add some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/script/execute\",\n            \"data\": {\n                \"adom\": \"{{adom}}\",\n                \"script\": \"Configure ZTP Interfaces\",\n                \"scope\": [\n                    {\n                        \"name\": \"{{name_fgt_ztp}}\",\n                        \"vdom\": \"root\"\n                    }\n                ]\n            }\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "6 - Add CLI Template - Interfaces",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "380df034-8fa5-4cdf-adb8-e1e3d8b2c3b1",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"ZTP-Interfaces\",\n                    \"script\": \"# Set interfaces on ZTP device\n# Configure tunnel interface IPs\nconfig system interface\n  edit port4\n    set ip 172.16.0.11 255.255.255.248\n    set mode static\n    set type physical\n    set allowaccess ping\n    set vdom root\n  next\n  edit port5\n    set ip 10.50.50.11 255.255.255.248\n    set mode static\n    set type physical\n    set allowaccess ping\n    set vdom root\n  next\n  edit port10\n    set ip 192.168.0.14 255.255.255.0\n    set mode static\n    set type physical\n    set allowaccess ping http https\n    set vdom root\n  next\nend\nconfig router static                                                                  \n  edit 1\n    set dst 172.16.0.0 255.255.0.0\n    set gateway 172.16.0.9\n    set device port4\n  next                                                                                \n  edit 2\n    set gateway 203.0.113.1                                                 \n    set device port1                                                               \n  next                                                                            \nend\"\n            }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "7 - Add CLI Template Group",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fda73a06-bb75-4d41-8d1d-6e439ffc521a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"1\",\n  \"session\": \"{{session}}\",\n  \"method\": \"set\",\n  \"params\": [\n    {\n      \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n      \"data\": {\n        \"name\": \"Spoke-Template-ZTP\",\n        \"member\": [\n          \"Spoke-Overlay\",\n          \"Spoke-Routing-BGP\",\n          \"ZTP-Interfaces\"\n        ]\n      }\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "8 - Assing CLI template Group to ZTP device",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5ef9fde5-6a23-4a8a-85f5-52bf700e0a16",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"1\",\n  \"session\": \"{{session}}\",\n  \"method\": \"update\",\n  \"params\": [\n    {\n      \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n      \"data\": {\n        \"name\": \"Spoke-Template-ZTP\",\n        \"member\": [\n          \"Spoke-Overlay\",\n          \"Spoke-Routing-BGP\",\n          \"ZTP-Interfaces\"\n        ],\n        \"scope member\": [\n          {\n            \"name\": \"{{name_fgt_ztp}}\",\n            \"vdom\": \"root\"\n          }\n        ]\n      }\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "9 - Map vl_lan interface",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "93c328be-d946-43d3-97ad-2d78e4029e6a",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": \"1\",\n    \"session\": \"{{session}}\",\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"pm/config/adom/{{adom}}/obj/dynamic/interface/vl_lan/dynamic_mapping\",\n            \"data\": [\n                {\n                    \"_scope\": [\n                        {\n                            \"name\": \"{{name_fgt_ztp}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ],\n                    \"local-intf\": [\n                        \"port5\"\n                    ],\n                    \"intrazone-deny\": 0,\n                    \"egress-shaping-profile\": null,\n                    \"ingress-shaping-profile\": null\n                }\n            ]\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "10 - Install Policy - Spokes",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e07f78d0-4991-4cec-a8c1-3c480661bc03",
								"exec": [
									"function waitOnTask(retries) {",
									"    if (!retries) {",
									"        pm.test(\"Task completed\", function() {",
									"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
									"        });",
									"        postman.setNextRequest(null);",
									"    }",
									"    else {",
									"        pm.sendRequest({",
									"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
									"            method: 'POST',",
									"            header: \"Content-Type:application/json\",",
									"            body: {",
									"                mode: 'raw',",
									"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
									"            }",
									"        }, function(err, response) {",
									"            var jsonData = response.json();",
									"            if (jsonData.result[0].data.percent == 100) {",
									"                // Task completed",
									"                if (jsonData.result[0].data.num_err) {",
									"                    postman.setNextRequest(null);",
									"                }",
									"                pm.test(\"Task completed\", function() {",
									"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
									"                });",
									"            }",
									"            else {",
									"                console.log(\"Task is still not complete\");",
									"                setTimeout(function() {",
									"                    waitOnTask(--retries);",
									"                }, 10000);",
									"            }",
									"        }); ",
									"    }",
									"}",
									"",
									"var jsonData = pm.response.json();",
									"var taskid = jsonData.result[0].data.task;",
									"",
									"waitOnTask(10);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"Branches-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Spokes\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Dual-Region",
			"item": [
				{
					"name": "Overlay",
					"item": [
						{
							"name": "1 - Add Regional VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "394874c4-657d-4b40-a38a-2b877bc5fa00",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"R1_INET\",\n                    \"topology\": 2,\n                    \"network-overlay\": 1,\n                    \"network-id\": 11,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"R1_MPLS\",\n                    \"topology\": 2,\n                    \"network-overlay\": 1,\n                    \"network-id\": 21,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"R2_INET\",\n                    \"topology\": 2,\n                    \"network-overlay\": 1,\n                    \"network-id\": 12,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"R2_MPLS\",\n                    \"topology\": 2,\n                    \"network-overlay\": 1,\n                    \"network-id\": 22,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add FGTs to Regional VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "2c93b904-dae6-4799-bccf-0bc202427b25",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.11.1\",\n                    \"ipv4-end-ip\": \"10.200.11.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R2_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.12.1\",\n                    \"ipv4-end-ip\": \"10.200.12.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.21.1\",\n                    \"ipv4-end-ip\": \"10.200.21.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R2_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"hub_iface\": [],\n                    \"peer\": [],\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"ipv4-start-ip\": \"10.200.22.1\",\n                    \"ipv4-end-ip\": \"10.200.22.9\",\n                    \"ipv4-netmask\": \"255.255.255.0\",\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },                \n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_1}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1_INET\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port1\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R2_INET\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port1\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_1}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1_MPLS\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port4\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R2_MPLS\",\n                    \"role\": 1,\n                    \"usrgrp\": [],\n                    \"iface\": \"port4\",\n                    \"automatic_routing\": 0,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"exchange-interface-ip\": 0,\n                    \"mode-cfg\": 1,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 1,\n                    \"peergrp\": [],\n                    \"peertype\": 8,\n                    \"tunnel-search\": 0,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add Inter-Region VPN Communities",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "64fce91a-a0a3-401b-9ea3-a5f41c31748f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\",\n            \"data\": [\n                {\n                    \"name\": \"R1R2_INET\",\n                    \"topology\": 0,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                },\n                {\n                    \"name\": \"R1R2_MPLS\",\n                    \"topology\": 0,\n                    \"psk-auto-generate\": 0,\n                    \"psksecret\": \"123Fortinet!@#\",\n                    \"ike1keylifesec\": 28800,\n                    \"ike1dpd\": 1,\n                    \"ike1natkeepalive\": 10,\n                    \"dpd\": 2,\n                    \"dpd-retrycount\": 2,\n                    \"dpd-retryinterval\": 10,\n                    \"ike2keylifesec\": 1800,\n                    \"ike2keylifekbs\": 5120,\n                    \"ike2keepalive\": 1,\n                    \"intf-mode\": 0,\n                    \"fcc-enforcement\": 0,\n                    \"ike-version\": 2,\n                    \"negotiate-timeout\": 30,\n                    \"inter-vdom\": 0,\n                    \"certificate\": [],\n                    \"auto-zone-policy\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke2hub-zone\": [],\n                    \"hub2spoke-zone\": [],\n                    \"npu-offload\": 1,\n                    \"authmethod\": 1,\n                    \"ike1dhgroup\": 12,\n                    \"localid-type\": 0,\n                    \"ike1mode\": 1,\n                    \"ike1nattraversal\": 1,\n                    \"ike1proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm-prfsha384\"\n                    ],\n                    \"ike2autonego\": 0,\n                    \"ike2dhgroup\": 12,\n                    \"ike2keylifetype\": 1,\n                    \"pfs\": 1,\n                    \"ike2proposal\": [\n                        \"aes256-sha256\",\n                        \"aes256gcm\"\n                    ],\n                    \"replay\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Add Hubs to Inter-Region VPN Community",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "f4027bdd-8144-4dc3-b66e-7766d70f362d",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\",\n            \"data\": [\n                {\n                \t\"id\": 17,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1R2_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 18,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1R2_INET\",\n                    \"role\": 0,\n                    \"iface\": \"port1\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 33,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1R2_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                },\n                {\n                \t\"id\": 34,\n                    \"protected_subnet\": {\n                        \"addr\": \"all\",\n                        \"seq\": 1\n                    },\n                    \"scope member\": {\n                        \"name\": \"{{name_fgt_dc_2}}\",\n                        \"vdom\": \"root\"\n                    },\n                    \"vpntable\": \"R1R2_MPLS\",\n                    \"role\": 0,\n                    \"iface\": \"port4\",\n                    \"automatic_routing\": 0,\n                    \"mode-cfg\": 0,\n                    \"mode-cfg-ip-version\": 0,\n                    \"net-device\": 0,\n                    \"tunnel-search\": 1,\n                    \"extgwip\": [],\n                    \"extgw_hubip\": [],\n                    \"extgw_p2_per_net\": 0,\n                    \"route-overlap\": 0,\n                    \"vpn-zone\": [],\n                    \"spoke-zone\": [],\n                    \"vpn-interface-priority\": 0,\n                    \"auto-configuration\": 1,\n                    \"dns-service\": 5,\n                    \"dhcp-server\": 1,\n                    \"ipsec-lease-hold\": 60,\n                    \"add-route\": 0,\n                    \"assign-ip\": 1,\n                    \"assign-ip-from\": 0,\n                    \"authusrgrp\": [],\n                    \"dns-mode\": 1,\n                    \"exchange-interface-ip\": 0,\n                    \"peergrp\": [],\n                    \"peertype\": 1,\n                    \"unity-support\": 1,\n                    \"xauthtype\": 1\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4.1 - Install Policy on Hubs",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "67037096-b901-4d7e-9bc1-cd5e4f7c7027",
										"exec": [
											"function waitOnTask(retries) {",
											"    if (!retries) {",
											"        pm.test(\"Task completed\", function() {",
											"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
											"        });",
											"        postman.setNextRequest(null);",
											"    }",
											"    else {",
											"        pm.sendRequest({",
											"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
											"            method: 'POST',",
											"            header: \"Content-Type:application/json\",",
											"            body: {",
											"                mode: 'raw',",
											"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
											"            }",
											"        }, function(err, response) {",
											"            var jsonData = response.json();",
											"            if (jsonData.result[0].data.percent == 100) {",
											"                // Task completed",
											"                if (jsonData.result[0].data.num_err) {",
											"                    postman.setNextRequest(null);",
											"                }",
											"                pm.test(\"Task completed\", function() {",
											"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
											"                });",
											"            }",
											"            else {",
											"                console.log(\"Task is still not complete\");",
											"                setTimeout(function() {",
											"                    waitOnTask(--retries);",
											"                }, 10000);",
											"            }",
											"        }); ",
											"    }",
											"}",
											"",
											"var jsonData = pm.response.json();",
											"var taskid = jsonData.result[0].data.task;",
											"",
											"waitOnTask(10);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"DataCenter-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Hubs\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								},
								"description": "This interim policy install is a MUST when you run this collection in bulk (using Runner). That's because dynamic interfaces created later depend on the existence of some interfaces created before..."
							},
							"response": []
						},
						{
							"name": "4.2 - Install Policy - Spokes",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a110a5fd-905a-4901-9f89-df3fb9828e54",
										"exec": [
											"function waitOnTask(retries) {",
											"    if (!retries) {",
											"        pm.test(\"Task completed\", function() {",
											"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
											"        });",
											"        postman.setNextRequest(null);",
											"    }",
											"    else {",
											"        pm.sendRequest({",
											"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
											"            method: 'POST',",
											"            header: \"Content-Type:application/json\",",
											"            body: {",
											"                mode: 'raw',",
											"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
											"            }",
											"        }, function(err, response) {",
											"            var jsonData = response.json();",
											"            if (jsonData.result[0].data.percent == 100) {",
											"                // Task completed",
											"                if (jsonData.result[0].data.num_err) {",
											"                    postman.setNextRequest(null);",
											"                }",
											"                pm.test(\"Task completed\", function() {",
											"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
											"                });",
											"            }",
											"            else {",
											"                console.log(\"Task is still not complete\");",
											"                setTimeout(function() {",
											"                    waitOnTask(--retries);",
											"                }, 10000);",
											"            }",
											"        }); ",
											"    }",
											"}",
											"",
											"var jsonData = pm.response.json();",
											"var taskid = jsonData.result[0].data.task;",
											"",
											"waitOnTask(10);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"Branches-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Spokes\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								},
								"description": "This interim policy install is a MUST when you run this collection in bulk (using Runner). That's because dynamic interfaces created later depend on the existence of some interfaces created before..."
							},
							"response": []
						},
						{
							"name": "5 - Add Dynamic Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "771660bb-4686-4202-81cc-1af729b028c0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"OL_INET\",\n                    \"description\": \"INET\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_1}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1_INET_0\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R2_INET_0\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1_INET_0\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R2_INET_0\"\n                        }\n                    ],\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"OL_MPLS\",\n                    \"description\": \"MPLS\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_1}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1_MPLS_0\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R2_MPLS_0\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1_MPLS_0\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R2_MPLS_0\"\n                        }\n                    ],\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"R1R2_INET\",\n                    \"description\": \"INET Inter-Region\",\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1R2_INET_12\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1R2_INET_11\"\n                        }\n                    ],\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"color\": 9\n                },\n                {\n                    \"name\": \"R1R2_MPLS\",\n                    \"description\": \"MPLS Inter-Region\",\n                    \"dynamic_mapping\": [\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1R2_MPLS_22\"\n                        },\n                        {\n                            \"_scope\": {\n                                \"name\": \"{{name_fgt_dc_2}}\",\n                                \"vdom\": \"root\"\n                            },\n                            \"local-intf\": \"R1R2_MPLS_21\"\n                        }\n                    ],\n                    \"single-intf\": 1,\n                    \"default-mapping\": 0,\n                    \"color\": 9\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Add CLI Templates - Overlay",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "c98bc786-943a-49c8-a5b6-18bd4d073efa",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "fb205cef-f1ad-4d26-80a3-a61be3cbe2a1",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-DualRegion-Overlay\",\n                    \"script\": \"# Adjust Overlay on Hub\n                    \n# Configure tunnel interface IPs\nconfig system interface\n  edit \\\"R$(dc-id)_INET_0\\\"\n    set ip 10.200.1$(dc-id).10 255.255.255.255\n    set remote-ip 10.200.1$(dc-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit \\\"R$(dc-id)_MPLS_0\\\"\n    set ip 10.200.2$(dc-id).10 255.255.255.255\n    set remote-ip 10.200.2$(dc-id).254 255.255.255.0\n    set allowaccess ping\n  next\n  edit \\\"R1R2_INET_1$(remote-dc-id)\\\"\n    set ip 10.200.10.$(dc-id) 255.255.255.255\n    set remote-ip 10.200.10.$(remote-dc-id) 255.255.255.0\n    set allowaccess ping\n  next\n  edit \\\"R1R2_MPLS_2$(remote-dc-id)\\\"\n    set ip 10.200.20.$(dc-id) 255.255.255.255\n    set remote-ip 10.200.20.$(remote-dc-id) 255.255.255.0\n    set allowaccess ping\n  next\nend\n\n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit \\\"R$(dc-id)_INET_0\\\"\n    set auto-discovery-sender enable\n  next\n  edit \\\"R$(dc-id)_MPLS_0\\\"\n    set auto-discovery-sender enable\n  next\n  edit \\\"R1R2_INET_1$(remote-dc-id)\\\"\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n  next\n  edit \\\"R1R2_MPLS_2$(remote-dc-id)\\\"\n    set auto-discovery-sender enable\n    set auto-discovery-receiver enable\n    set auto-discovery-forwarder enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n  next\nend\n\n                    \"\n                },\n                {\n                    \"name\": \"Spoke-DualRegion-Overlay\",\n                    \"script\": \"# Adjust Overlay on Branch\n                    \n# Enable ADVPN\nconfig vpn ipsec phase1-interface\n  edit \\\"R$(branch-id)_INET_0\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n  next\n  edit \\\"R$(branch-id)_MPLS_0\\\"\n    set auto-discovery-receiver enable\n    set idle-timeout enable\n    set idle-timeoutinterval 5\n  next\nend\n\n# Allow shortcut monitoring (ping)\nconfig system interface\n  edit \\\"R$(branch-id)_INET_0\\\"\n    set allowaccess ping\n  next\n  edit \\\"R$(branch-id)_MPLS_0\\\"\n    set allowaccess ping\n  next\nend\n\n                    \"\n                }                \n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "7 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a8989d2d-3e74-4f7a-9488-18acc1e2d6e0",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-DualRegion-Overlay\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-DualRegion-Overlay\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "Routing",
					"item": [
						{
							"name": "1 - Add CLI Template - Spoke Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "d72b2889-8472-4004-b5f0-6f607d49e86e",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8b882988-e65d-4fa4-a656-6581a8f16c07",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Spoke-DualRegion-Routing-BGP\",\n                    \"script\": \"# Dynamic Routing on Spoke\n                    \n# BGP to Hub\nconfig router bgp\n  set as 6500$(branch-id)\n  set router-id 10.0.$(branch-id).1\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set scan-time 20\n  config neighbor\n    edit \\\"10.200.1$(branch-id).10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"R$(branch-id)_INET_0\\\"\n        set remote-as 6500$(branch-id)\n        set additional-path receive\n    next\n    edit \\\"10.200.2$(branch-id).10\\\"\n        set soft-reconfiguration enable\n        set interface \\\"R$(branch-id)_MPLS_0\\\"\n        set remote-as 6500$(branch-id)\n        set additional-path receive\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.0.$(branch-id).0 255.255.255.0\n    next\n  end\nend\n\n# Configure remote region's overlay reachability\nconfig router static\n  edit 10\n    set dst 10.200.0.0 255.255.240.0\n    set device \\\"R$(branch-id)_INET_0\\\"\n  next\n  edit 20\n    set dst 10.200.16.0 255.255.240.0\n    set device \\\"R$(branch-id)_MPLS_0\\\"\n  next\nend\n\n                    \"\n                }                \n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Add CLI Template - Hub Routing",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "7a33769d-a5e7-4df3-89c4-7b6c950aa53b",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "8d6d3467-dcde-4089-bc33-4ee290c26add",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-DualRegion-Routing-BGP\",\n                    \"script\": \"# Dynamic Routing on Hub\n                    \n# Configure VRFs\nconfig system interface\n  edit \\\"R$(dc-id)_INET_0\\\"\n    set vrf 1\n  next\n  edit \\\"R1R2_INET_1$(remote-dc-id)\\\"\n    set vrf 1\n  next\n  edit \\\"R$(dc-id)_MPLS_0\\\"\n    set vrf 2\n  next\n  edit \\\"R1R2_MPLS_2$(remote-dc-id)\\\"\n    set vrf 2\n  next\nend\n\n# Configure BGP neighbors\nconfig router bgp\n  set as 6500$(dc-id)\n  set router-id 10.$(dc-id).0.1\n  set keepalive-timer 5\n  set holdtime-timer 15\n  set ibgp-multipath enable\n  set network-import-check disable\n  set additional-path enable\n  set scan-time 20\n  config neighbor\n    edit \\\"10.200.10.$(remote-dc-id)\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 6500$(remote-dc-id)\n      set interface \\\"R1R2_INET_1$(remote-dc-id)\\\"\n      set update-source \\\"R1R2_INET_1$(remote-dc-id)\\\"\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n    next\n    edit \\\"10.200.20.$(remote-dc-id)\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 6500$(remote-dc-id)\n      set interface \\\"R1R2_MPLS_2$(remote-dc-id)\\\"\n      set update-source \\\"R1R2_MPLS_2$(remote-dc-id)\\\"\n      set attribute-unchanged next-hop\n      set ebgp-enforce-multihop enable\n    next\n  end\n  config neighbor-group\n    edit \\\"R$(dc-id)_INET\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 6500$(dc-id)\n      set interface \\\"R$(dc-id)_INET_0\\\"\n      set update-source \\\"R$(dc-id)_INET_0\\\"\n      set additional-path both\n      set route-reflector-client enable\n    next\n    edit \\\"R$(dc-id)_MPLS\\\"\n      set soft-reconfiguration enable\n      set advertisement-interval 1\n      set remote-as 6500$(dc-id)\n      set interface \\\"R$(dc-id)_MPLS_0\\\"\n      set update-source \\\"R$(dc-id)_MPLS_0\\\"\n      set additional-path both\n      set route-reflector-client enable\n    next\n  end\n  config neighbor-range\n    edit 1\n      set prefix 10.200.1$(dc-id).0 255.255.255.0\n      set neighbor-group \\\"R$(dc-id)_INET\\\"\n    next\n    edit 2\n      set prefix 10.200.2$(dc-id).0 255.255.255.0\n      set neighbor-group \\\"R$(dc-id)_MPLS\\\"\n    next\n  end\n  config network\n    edit 1\n      set prefix 10.$(dc-id).0.0 255.255.255.0\n    next\n  end\nend\n\n# Configure remote region's overlay reachability\nconfig router static\n  edit 10\n    set dst 10.200.0.0 255.255.240.0\n    set device \\\"R1R2_INET_1$(remote-dc-id)\\\"\n  next\n  edit 20\n    set dst 10.200.16.0 255.255.240.0\n    set device \\\"R1R2_MPLS_2$(remote-dc-id)\\\"\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "85dbd249-6f48-4a0c-af0e-a1e56bcb5d71",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-DualRegion-Overlay\",\n                        \"Hub-DualRegion-Routing-BGP\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-DualRegion-Overlay\",\n                        \"Spoke-DualRegion-Routing-BGP\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "DC",
					"item": [
						{
							"name": "1 - Add CLI Template - DC",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "4780ac27-f2b3-48b4-ac50-49c4df9a2212",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"id": "85c547d8-5f78-4b40-9262-de9549c846ee",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-DualRegion-Routing-DC\",\n                    \"script\": \"# DC Connectivity\n                    \n# Inter-vrf interfaces\nconfig system settings\n  set allow-subnet-overlap enable\nend\nconfig system vdom-link\n  edit \\\"vrf1_link\\\"\n  next\n  edit \\\"vrf2_link\\\"\n  next\nend\nconfig system interface\n  edit \\\"vrf1_link0\\\"\n    set ip 10.200.99.10 255.255.255.254\n  next\n  edit \\\"vrf1_link1\\\"\n    set vrf 1\n    set ip 10.200.99.11 255.255.255.254\n  next\n  edit \\\"vrf2_link0\\\"\n    set ip 10.200.99.20 255.255.255.254\n  next\n  edit \\\"vrf2_link1\\\"\n    set vrf 2\n    set ip 10.200.99.21 255.255.255.254\n  next\nend\nconfig system zone                                                                                                                                                                            \n  edit \\\"InterVRF_LAN\\\"                                                                                                                                                                       \n    set interface \\\"vrf2_link0\\\" \\\"vrf1_link0\\\"                                                                                                                                               \n  next      \n  edit \\\"InterVRF_WAN\\\"                                                                                                                                                                       \n    set interface \\\"vrf2_link1\\\" \\\"vrf1_link1\\\"                                                                                                                                               \n  next                                                                                                                                                                                    \nend\n\n# Leak route-map\nconfig router prefix-list\n  edit \\\"CORP_LAN\\\"\n    config rule\n      edit 1\n        set prefix 10.0.0.0 255.0.0.0\n        set ge 24\n      next\n    end\n  next\nend\nconfig router route-map\n  edit \\\"WAN\\\"\n    config rule\n      edit 1\n        set match-ip-address \\\"CORP_LAN\\\"\n      next\n    end\n  next\n  edit \\\"NONE\\\"\n    config rule\n      edit 1\n        set action deny\n      next\n    end\n  next\nend\n\n# Leak Spokes' BGP routes to VRF=0\nconfig router bgp\n  config vrf-leak\n    edit \\\"1\\\"\n      config target\n        edit \\\"0\\\"\n          set route-map \\\"WAN\\\"\n          set interface \\\"vrf1_link1\\\"\n        next\n      end\n    next\n    edit \\\"2\\\"\n      config target\n        edit \\\"0\\\"\n          set route-map \\\"WAN\\\"\n          set interface \\\"vrf2_link1\\\"\n        next\n      end\n    next\n    edit \\\"0\\\"\n      config target\n        edit \\\"1\\\"\n          set route-map \\\"NONE\\\"\n          set interface \\\"vrf1_link0\\\"\n        next\n        edit \\\"2\\\"\n          set route-map \\\"NONE\\\"\n          set interface \\\"vrf2_link0\\\"\n        next\n      end\n    next\n  end\nend\n\nconfig router static\n  # Catch-all feasible route for DC-to-WAN return traffic\n  edit 11\n    set dst 10.0.0.0 255.0.0.0\n    set device \\\"vrf1_link0\\\"\n  next\n  edit 21\n    set dst 10.0.0.0 255.0.0.0\n    set device \\\"vrf2_link0\\\"\n  next\n  # Leak DC subnets to WAN VRFs for WAN-to-DC traffic\n  edit 12\n    set dst 10.$(dc-id).0.0 255.255.255.0\n    set device \\\"vrf1_link1\\\"\n  next\n  edit 22\n    set dst 10.$(dc-id).0.0 255.255.255.0\n    set device \\\"vrf2_link1\\\"\n  next\nend\n\n                    \"\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Set CLI Template Groups",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "ab128887-c8bc-485e-9c81-dc0844bad6bb",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\",\n            \"data\": [\n                {\n                    \"name\": \"Hub-Template\",\n                    \"member\": [\n                        \"Hub-DualRegion-Overlay\",\n                        \"Hub-DualRegion-Routing-BGP\",\n                        \"Hub-DualRegion-Routing-DC\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                },\n                {\n                    \"name\": \"Spoke-Template\",\n                    \"member\": [\n                        \"Spoke-DualRegion-Overlay\",\n                        \"Spoke-DualRegion-Routing-BGP\"\n                    ],\n                    \"scope member\": [\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Add Dynamic Interfaces",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3eaf3f86-d181-42d1-8b9e-89e7c2a8235f",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\",\n            \"data\": [\n                {\n                    \"name\": \"InterVRF_LAN\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"InterVRF_LAN\",\n                    \"color\": 17\n                },\n                {\n                    \"name\": \"InterVRF_WAN\",\n                    \"single-intf\": 1,\n                    \"default-mapping\": 1,\n                    \"defmap-intf\": \"InterVRF_WAN\",\n                    \"color\": 17\n                }\n            ]\n        }\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "SD-WAN",
					"item": [
						{
							"name": "1 - Create SD-WAN Interface Members",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/members\",\n            \"data\": [\n                {\n                    \"name\": \"UL_INET\",\n                    \"interface\": \"port1\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"OL_INET\",\n                    \"interface\": \"OL_INET\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                },\n                {\n                    \"name\": \"OL_MPLS\",\n                    \"interface\": \"OL_MPLS\",\n                    \"cost\": 0,\n                    \"weight\": 1,\n                    \"priority\": 0,\n                    \"status\": 1\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "2 - Create Health Check Servers",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/server\",\n            \"data\": [\n                {\n                    \"name\": \"DC\",\n                    \"description\": null,\n                    \"server\": [\n                        \"10.200.99.1\"\n                    ],\n                    \"dynamic_mapping\": null\n                },\n                {\n                    \"name\": \"Internet Host\",\n                    \"description\": null,\n                    \"server\": [\n                        \"www.fortinet.com\"\n                    ],\n                    \"dynamic_mapping\": null\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "3 - Create SDWAN Branch Template",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/wanprof/adom/{{adom}}/\",\n            \"data\": {\n            \t\"name\": \"sdwan.dualreg.branches\",\n            \t\"type\": \"wanprof\"\n            \t\n            }\n        }\n            \n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "4 - Populate SDWAN Branch Template",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"replace\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/sdwan.dualreg.branches/system/sdwan\",\n            \"data\": {\n                \"status\": 1,\n                \"load-balance-mode\": 1,\n                \"fail-detect\": \"disable\",\n                \"zone\": [\n                    {\n                        \"name\": \"virtual-wan-link\"\n                    },\n                    {\n                        \"name\": \"underlay\"\n                    },\n                    {\n                        \"name\": \"overlay\"\n                    }\n                ],\n                \"members\": [\n                    {\n                        \"_dynamic-member\": \"OL_INET\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"OL_MPLS\",\n                        \"zone\": \"overlay\"\n                    },\n                    {\n                        \"_dynamic-member\": \"UL_INET\",\n                        \"zone\": \"underlay\"\n                    }\n                ],\n                \"health-check\": [\n                    {\n                        \"name\": \"DC\",\n                        \"_dynamic-server\": [\n                            \"DC\"\n                        ],\n                        \"protocol\": 1,\n                        \"members\": [\n                            1,\n                            2\n                        ],\n                        \"failtime\": 5,\n                        \"recoverytime\": 5,\n                        \"security-mode\": 0,\n                        \"update-cascade-interface\": 1,\n                        \"update-static-route\": 1,\n                        \"sla\": [\n                            {\n                                \"id\": 1,\n                                \"latency-threshold\": 100\n                            }\n                        ]\n                    }\n                ],\n                \"service\": [\n                    {\n                        \"id\": 1,\n                        \"name\": \"ICMP\",\n                        \"src\": \"CORP_LAN\",\n                        \"dst\": \"CORP_LAN\",\n                        \"dst-negate\": 0,\n                        \"protocol\": 1,\n                        \"role\": 3,\n                        \"mode\": 4,\n                        \"sla\": [\n                            {\n                                \"health-check\": \"DC\",\n                                \"id\": 1\n                            }\n                        ],\n                        \"priority-members\": [\n                            \"1\",\n                            \"2\"\n                        ],\n                        \"route-tag\": 0,\n                        \"gateway\": 0,\n                        \"groups\": [],\n                        \"addr-mode\": 7,\n                        \"default\": 0,\n                        \"hold-down-time\": 0,\n                        \"input-device\": [],\n                        \"internet-service\": 0,\n                        \"link-cost-threshold\": 10,\n                        \"sla-compare-method\": 0,\n                        \"src-negate\": 0,\n                        \"standalone-action\": 0,\n                        \"status\": 1\n                    }\n                ]\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "5 - Assign Template to Branches",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"update\",\n    \"params\": [\n        {\n            \"url\": \"/pm/wanprof/adom/{{adom}}/sdwan.dualreg.branches\",\n            \"data\": {\n                \"name\": \"sdwan.dualreg.branches\",\n                \"description\": \"\",\n                \"scope member\": [\n                    {\n                    \t\"name\": \"{{name_fgt_1}}\",\n                    \t\"vdom\": \"root\"\n                    },\n                    {\n                    \t\"name\": \"{{name_fgt_2}}\",\n                    \t\"vdom\": \"root\"\n                    }\n                ],\n                \"type\": \"wanprof\"\n            }\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "6 - Add Firewall Rules - Branches PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "9d132f59-dd39-4ee1-849f-098337b21576",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Branches-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"Branch to INET\",\n                    \"policyid\": 1,\n                    \"srcintf\": \"vl_lan\",\n                    \"dstintf\": \"underlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"utm-status\": 1,\n                    \"ssl-ssh-profile\": \"certificate-inspection\",\n                    \"application-list\": \"default\",\n                    \"profile-protocol-options\": \"default\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Branch to Overlay\",\n                    \"policyid\": 2,\n                    \"srcintf\": \"vl_lan\",\n                    \"dstintf\": \"overlay\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Overlay to Branch\",\n                    \"policyid\": 3,\n                    \"srcintf\": \"overlay\",\n                    \"dstintf\": \"vl_lan\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }\n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						},
						{
							"name": "7 - Add Firewall Rules - DataCenter PP",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "3ec3f37a-552c-4601-ada4-5a43f8b68d6a",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"set\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/DataCenter-PP/firewall/policy/\",\n            \"data\": [\n                {\n                    \"name\": \"DC to INET\",\n                    \"policyid\": 1,\n                    \"srcintf\": \"vl_lan\",\n                    \"dstintf\": \"port1\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"nat\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Overlay to Overlay\",\n                    \"policyid\": 2,\n                    \"srcintf\": [\n                        \"OL_INET\",\n                        \"OL_MPLS\",\n                        \"R1R2_INET\",\n                        \"R1R2_MPLS\"\n                    ],\n                    \"dstintf\": [\n                        \"OL_INET\",\n                        \"OL_MPLS\",\n                        \"R1R2_INET\",\n                        \"R1R2_MPLS\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"Health-Check\",\n                    \"policyid\": 3,\n                    \"srcintf\": [\n                        \"OL_INET\",\n                        \"OL_MPLS\"\n                    ],\n                    \"dstintf\": \"any\",\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"HC\",\n                    \"service\": \"PING\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 3\n                },\n{\n                    \"name\": \"DC - WAN VRF\",\n                    \"policyid\": 4,\n                    \"srcintf\": [\n                        \"InterVRF_WAN\",\n                        \"OL_INET\",\n                        \"OL_MPLS\",\n                        \"R1R2_INET\",\n                        \"R1R2_MPLS\"\n                    ],\n                    \"dstintf\": [\n                        \"InterVRF_WAN\",\n                        \"OL_INET\",\n                        \"OL_MPLS\",\n                        \"R1R2_INET\",\n                        \"R1R2_MPLS\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                },\n                {\n                    \"name\": \"DC - LAN VRF\",\n                    \"policyid\": 5,\n                    \"srcintf\": [\n                        \"InterVRF_LAN\",\n                        \"vl_lan\"\n                    ],\n                    \"dstintf\": [\n                        \"InterVRF_LAN\",\n                        \"vl_lan\"\n                    ],\n                    \"srcaddr\": \"all\",\n                    \"dstaddr\": \"all\",\n                    \"service\": \"ALL\",\n                    \"action\": 1,\n                    \"status\": 1,\n                    \"schedule\": \"always\",\n                    \"logtraffic\": 2\n                }                \n            ]\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://{{ip}}/jsonrpc",
									"protocol": "https",
									"host": [
										"{{ip}}"
									],
									"path": [
										"jsonrpc"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Monitor",
			"item": [
				{
					"name": "Get Devices",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ed373af6-86db-4652-9857-013e0d3d87e6",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/device\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Device Meta Fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3b57eca6-78fc-4c89-9fa5-dcd59547012d",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/_meta_fields/device\"\n\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Device Groups",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "80835a8a-8ca3-4b06-939b-7e80e8ab738e",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/group\"\n\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Tasks",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/task/task/80\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Dynamic Interface",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/interface/\"\n\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get VPN Manager VPN Table",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/vpntable\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get VPN Manager Node",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n\t\t    \"option\": [ \"scope member\" ],\n            \"url\": \"/pm/config/adom/{{adom}}/obj/vpnmgr/node\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Policy Package",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/pkg/adom/{{adom}}\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Firewall Policy - Branches PP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/Branches-PP/firewall/policy\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Firewall Policy - DataCenter PP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/pkg/DataCenter-PP/firewall/policy\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Firewall Addresses",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/firewall/address\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get branch1_fgt Interfaces",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/device/{{name_fgt_1}}/global/system/interface\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get branch2_fgt Interfaces",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/device/{{name_fgt_2}}/global/system/interface\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get FGT DC1 Interfaces",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/device/{{name_fgt_dc}}/global/system/interface\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get FGT DC2 Interfaces",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/device/{{name_fgt_dc_2}}/global/system/interface\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Scripts",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/dvmdb/adom/{{adom}}/script\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get CLI Templates",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get CLI Templates Groups",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/cli/template-group\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get SD-WAN Interface Members",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/obj/dynamic/virtual-wan-link/members\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get SD-WAN Branch Template",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"get\",\n    \"params\": [\n        {\n            \"url\": \"/pm/config/adom/{{adom}}/wanprof/sdwan.branches/system/sdwan\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "https://{{ip}}/jsonrpc",
							"protocol": "https",
							"host": [
								"{{ip}}"
							],
							"path": [
								"jsonrpc"
							]
						}
					},
					"response": []
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Install Policy - Hubs",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "220c5e74-333d-4b32-8f68-b745605b34ae",
						"exec": [
							"function waitOnTask(retries) {",
							"    if (!retries) {",
							"        pm.test(\"Task completed\", function() {",
							"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
							"        });",
							"        postman.setNextRequest(null);",
							"    }",
							"    else {",
							"        pm.sendRequest({",
							"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
							"            method: 'POST',",
							"            header: \"Content-Type:application/json\",",
							"            body: {",
							"                mode: 'raw',",
							"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
							"            }",
							"        }, function(err, response) {",
							"            var jsonData = response.json();",
							"            if (jsonData.result[0].data.percent == 100) {",
							"                // Task completed",
							"                if (jsonData.result[0].data.num_err) {",
							"                    postman.setNextRequest(null);",
							"                }",
							"                pm.test(\"Task completed\", function() {",
							"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
							"                });",
							"            }",
							"            else {",
							"                console.log(\"Task is still not complete\");",
							"                setTimeout(function() {",
							"                    waitOnTask(--retries);",
							"                }, 10000);",
							"            }",
							"        }); ",
							"    }",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"var taskid = jsonData.result[0].data.task;",
							"",
							"waitOnTask(10);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"DataCenter-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Hubs\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				}
			},
			"response": []
		},
		{
			"name": "Install Policy - Spokes",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "58183a14-fe55-43ef-a3e3-0654287bac3d",
						"exec": [
							"function waitOnTask(retries) {",
							"    if (!retries) {",
							"        pm.test(\"Task completed\", function() {",
							"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
							"        });",
							"        postman.setNextRequest(null);",
							"    }",
							"    else {",
							"        pm.sendRequest({",
							"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
							"            method: 'POST',",
							"            header: \"Content-Type:application/json\",",
							"            body: {",
							"                mode: 'raw',",
							"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
							"            }",
							"        }, function(err, response) {",
							"            var jsonData = response.json();",
							"            if (jsonData.result[0].data.percent == 100) {",
							"                // Task completed",
							"                if (jsonData.result[0].data.num_err) {",
							"                    postman.setNextRequest(null);",
							"                }",
							"                pm.test(\"Task completed\", function() {",
							"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
							"                });",
							"            }",
							"            else {",
							"                console.log(\"Task is still not complete\");",
							"                setTimeout(function() {",
							"                    waitOnTask(--retries);",
							"                }, 10000);",
							"            }",
							"        }); ",
							"    }",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"var taskid = jsonData.result[0].data.task;",
							"",
							"waitOnTask(10);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/package\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"pkg\": \"Branches-PP\",\n                    \"scope\": [\n                        {\n                            \"name\": \"Spokes\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				}
			},
			"response": []
		},
		{
			"name": "Install Configuration - All",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "7988dcff-4b00-44f9-b558-4e170ae34dc9",
						"exec": [
							"function waitOnTask(retries) {",
							"    if (!retries) {",
							"        pm.test(\"Task completed\", function() {",
							"            pm.expect(0).to.equal(1, \"Timeout while waiting for task completion\");     ",
							"        });",
							"        postman.setNextRequest(null);",
							"    }",
							"    else {",
							"        pm.sendRequest({",
							"            url: \"https://\" + pm.environment.get(\"ip\") + \"/jsonrpc\",",
							"            method: 'POST',",
							"            header: \"Content-Type:application/json\",",
							"            body: {",
							"                mode: 'raw',",
							"                raw: JSON.stringify({\"session\": pm.environment.get(\"session\"), \"id\": 1, \"method\": \"get\",\"params\": [{\"url\": \"/task/task/\" + taskid}]})",
							"            }",
							"        }, function(err, response) {",
							"            var jsonData = response.json();",
							"            if (jsonData.result[0].data.percent == 100) {",
							"                // Task completed",
							"                if (jsonData.result[0].data.num_err) {",
							"                    postman.setNextRequest(null);",
							"                }",
							"                pm.test(\"Task completed\", function() {",
							"                    pm.expect(jsonData.result[0].data.num_err).to.equal(0, \"Failed for some devices\");     ",
							"                });",
							"            }",
							"            else {",
							"                console.log(\"Task is still not complete\");",
							"                setTimeout(function() {",
							"                    waitOnTask(--retries);",
							"                }, 10000);",
							"            }",
							"        }); ",
							"    }",
							"}",
							"",
							"var jsonData = pm.response.json();",
							"var taskid = jsonData.result[0].data.task;",
							"",
							"waitOnTask(10);",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"name": "Content-Type",
						"type": "text",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"session\": \"{{session}}\",\n    \"id\": 1,\n    \"method\": \"exec\",\n    \"params\": [\n        {\n            \"url\": \"/securityconsole/install/device\",\n            \"data\": [\n                {\n                    \"adom\": \"{{adom}}\",\n                    \"scope\": [\n                        {\n                            \"name\": \"{{name_fgt_dc}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_dc_2}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_1}}\",\n                            \"vdom\": \"root\"\n                        },\n                        {\n                            \"name\": \"{{name_fgt_2}}\",\n                            \"vdom\": \"root\"\n                        }\n                    ],\n                    \"flags\": \"none\"\n                }\n            ]\n        }\n    ]\n}"
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				}
			},
			"response": []
		},
		{
			"name": "Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "87ea14af-a16e-4f50-b9f8-dd839eadbe1c",
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"postman.setEnvironmentVariable('session',data['session']);",
							"postman.setEnvironmentVariable('status_code',data['result'][0]['status']['code']);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\t\"session\" : 1,\r\n\t\"id\" : 1,\r\n\t\"method\" : \"exec\",\r\n\t\"params\" : [\r\n\t\t{\r\n\t\t\t\"url\" : \"sys/login/user\",\r\n\t\t\t\"data\" : [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"user\" : \"{{username}}\",\r\n\t\t\t\t\t\"passwd\" : \"{{password}}\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n}"
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				}
			},
			"response": []
		},
		{
			"name": "Logout",
			"event": [
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"var data = JSON.parse(responseBody);",
							"",
							"postman.setEnvironmentVariable('session',data['session']);"
						],
						"id": "c8805022-769a-4105-85ba-141c35bca5a4"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"session\" : \"{{session}}\",\r\n  \"id\" : 1,\r\n  \"method\" : \"exec\",\r\n  \"params\" : [\r\n    {\r\n      \"url\" : \"/sys/logout\"\r\n    }\r\n  ]\r\n}"
				},
				"url": {
					"raw": "https://{{ip}}/jsonrpc",
					"protocol": "https",
					"host": [
						"{{ip}}"
					],
					"path": [
						"jsonrpc"
					]
				},
				"description": "Log out a session."
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "270565db-1aee-45e1-9e21-cc3281e58490",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "1ca8a40a-fac6-4c38-8b67-806888119ba3",
				"type": "text/javascript",
				"exec": [
					"pm.test(\"HTTP Status code is 200 OK\", function () {",
					"    pm.response.to.have.status(200);",
					"});",
					"",
					"pm.test(\"JSON Status code is 0\", function () {",
					"    var jsonData = pm.response.json();",
					"    if (jsonData.result[0].status.code) {",
					"        postman.setNextRequest(null);",
					"    }    ",
					"    pm.expect(jsonData.result[0].status.code).to.equal(0);",
					"});"
				]
			}
		}
	],
	"protocolProfileBehavior": {}
}